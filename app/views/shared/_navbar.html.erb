<div class="navbar-wagon">
  <!-- Logo -->
  <%= link_to root_path, class: "navbar-wagon-brand" do %>
  <%= image_tag "logo.png" %>
  Project W
  <% end %>


  <% if user_signed_in? %>


  <div class="navbar-wagon-right hidden-xs hidden-sm">
    <% if current_profile %>
      <%= link_to "Dashboard", profile_path(current_user.profile), class: "navbar-wagon-item navbar-wagon-link" , id: "dashboard"%>
    <% end %>
    
    <%= link_to "All available camp sites", camp_sites_path, class: "navbar-wagon-item navbar-wagon-link" %>
    <% if current_profile.try(:host) %>
          <%= link_to "Add site", new_camp_site_path, class: "navbar-wagon-item navbar-wagon-link" , id: "add-campsite"%>
    <% else %>
        <%= link_to "Become a Host", new_host_path, class: "navbar-wagon-item navbar-wagon-link" , id: "become-host"%>
    <% end %>

    <div class="dropdown">

      <% if current_profile %>
      <%= cl_image_tag current_user.profile.photo, class: "avatar", id: "navbar-wagon-menu", data: { toggle: 'dropdown'} %>
      <% end %>
      <ul class="dropdown-menu dropdown-menu-right navbar-wagon-dropdown-menu">
        <li><a href="#">Profile</a></li>
        <li><%= link_to "Sign out", destroy_user_session_path, method: :delete, class: "navbar-wagon-item navbar-wagon-link"%></li>
      </ul>
    </div>
  </div>


  <div  class="navbar-wagon-item hidden-md hidden-lg">
   <div id ="dropdown-combined" class="dropdown">
    <i class="fa fa-bars dropdown-toggle" data-toggle="dropdown"></i>
    <ul class="dropdown-menu dropdown-menu-right navbar-wagon-dropdown-menu">
     <li><% if current_profile %>
       <%= link_to "Dashboard", profile_path(current_user.profile), class: "navbar-wagon-item navbar-wagon-link", id: "dashboard"%>
       <% end %></li>

         <% if current_profile.try(:host) %>
        <li><%= link_to "Add site", new_camp_site_path,  class: "navbar-wagon-item navbar-wagon-link" , id: "add-campsite"%></li>
        <% else %>
         <li><%= link_to "Become a Host", new_host_path, class: "navbar-wagon-item navbar-wagon-link" , id: "become-host"%></li>
        <% end %>
   
        <li><%= link_to "All available camp sites", camp_sites_path, class: "navbar-wagon-item navbar-wagon-link" %></li>
      </ul>
    </div>
    <div id ="dropdown-combined" class="dropdown">
      <% if !current_user.profile.nil? %>
      <%= cl_image_tag current_user.profile.photo, class: "avatar", id: "navbar-wagon-menu", data: { toggle: 'dropdown'} %>
      <% end %>
      <ul class="dropdown-menu dropdown-menu-right navbar-wagon-dropdown-menu">
        <li><a href="#">Profile</a></li>
        <li><%= link_to "Sign out", destroy_user_session_path, method: :delete, class: "navbar-wagon-item navbar-wagon-link"%></li>
      </ul>
    </div>
  </div>


  <% else %>

  <!-- Right Navigation -->
  <div class="navbar-wagon-right hidden-xs hidden-sm">

    <!-- Links - LogedOut -->
    <%= link_to "All available camp sites", camp_sites_path, class: "navbar-wagon-item navbar-wagon-link" %>
    <%= link_to "New user", new_user_registration_path, class: "navbar-wagon-item navbar-wagon-link" %>
    <%= link_to "Existing user", new_user_session_path, class: "navbar-wagon-item navbar-wagon-link", id: "sing-up" %>


  </div>

  <!-- Dropdown list appearing on mobile only -->
  <div class="navbar-wagon-item hidden-md hidden-lg">
    <div class="dropdown">
      <i class="fa fa-bars dropdown-toggle" data-toggle="dropdown"></i>
      <ul class="dropdown-menu dropdown-menu-right navbar-wagon-dropdown-menu">
        <li><%= link_to "All available camp sites", camp_sites_path, class: "navbar-wagon-item navbar-wagon-link" %></li>
        <li><%= link_to "Sign Up", new_user_registration_path, class: "navbar-wagon-item navbar-wagon-link", id: "sign-up" %></li>
        <li><%= link_to "Log In", new_user_session_path, class: "navbar-wagon-item navbar-wagon-link", id: "log-in" %></li>
      </ul>
    </div>
  </div>


  <% end %>

</div>
